{% extends 'base.html.twig' %}

{% block body %}
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        <div class="message_authentication" id="message_authentication_id">Votre identifiant ou le mot de passe est faux</div>
    {% endif %}
    <h5 class="inscription_title">Connexion</h5>

<div class="card" style="width: 25rem;" id="card_css">
    <div class="container-inscription-card-content">
    <form action="{{ path('security_login') }}" method="post">
        {#<label for="username">Email:</label>#}
        <div class="form-group" style="margin-top: 5%">
            <div class="label d-flex justify-content-center"><label for="username">Email</label></div>
            <div class="input d-flex justify-content-center"><input type="text" id="username" name="_username" value="{{ last_username }}"/></div>
        </div>

        <div class="form-group">
            {#<label for="username">Password:</label>#}
            <div class="label d-flex justify-content-center"><label for="password">Mot de passe</label></div>
            <div class="input d-flex justify-content-center"><input type="password" id="password" name="_password"/></div>
        </div>

        <div class="form-group">
            <div class="label d-flex justify-content-center">
                <button type="submit" class="btn btn-dark" id="darkBtn">Me connecter</button>
            </div>
        </div>
    </form>
    </div>
</div>
{% endblock %}

 {% block javascripts %}
     <script>
         $(document).ready(function (){
             let messageFlash = $(".message_authentication_id");
             if ($(messageFlash).is(":visible")){
                 $(messageFlash).delay(4000).fadeOut(3000)
             }
         });
     </script>
 {% endblock %}
